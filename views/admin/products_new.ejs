<h1 class="page-title">Nuovo prodotto</h1>

<form method="post" action="/admin/products" enctype="multipart/form-data" style="display:grid;gap:10px;max-width:720px">
  <label>Titolo</label>
  <input type="text" name="title" required>

  <label>Categoria</label>
  <select name="category_id" required>
    <% (cats||[]).forEach(c => { %>
      <option value="<%= c.id %>"><%= c.name %></option>
    <% }) %>
  </select>

  <label>Prezzo (€)</label>
  <input type="number" name="price" step="0.01" min="0" required>

  <label>Descrizione</label>
  <textarea name="description" rows="6"></textarea>

  <fieldset class="card">
    <legend>Immagine di copertina</legend>
    <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
      <div>
        <div>Carica file (copertina)</div>
        <input type="file" name="image" accept="image/*">
      </div>
      <div>oppure URL</div>
      <div>
        <input type="url" name="image_url" placeholder="https://…">
      </div>
    </div>
  </fieldset>

  <fieldset class="card">
    <legend>Galleria (multiple)</legend>
    <div>Carica più file</div>
    <input type="file" name="images" accept="image/*" multiple>
    <div style="margin-top:6px">Oppure incolla URL (uno per riga)</div>
    <textarea name="image_urls" rows="4" placeholder="https://…\nhttps://…"></textarea>
  </fieldset>

  <label style="display:flex;gap:8px;align-items:center">
    <input type="checkbox" name="is_active" value="1" checked> Pubblica subito
  </label>

  <div style="display:flex;gap:8px">
    <button class="btn">Salva</button>
    <a class="btn" href="/admin/products">Annulla</a>
  </div>
</form>
